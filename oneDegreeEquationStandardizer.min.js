export const makeItStandard=e=>{let t=new ThreeVariableEquation(e),n=t.buidlatexFromRawInput(),a=_equationVarAndConstSeparator(t),r=buildLatexVarFromLeftAndConstFromRight(a),o=_likeVariableAndConstantAdder(a);return{latexArray:[n,r,buildLatexVarFromLeftAndConstFromRight(o)],leftVars:o.leftSideCoeffVarAndConstantTree.CoeffAndVar,rightConstant:o.rightSideCoeffVarAndConstantTree.Constants}};class ThreeVariableEquation{constructor(e){var t,n,a,r,o,s;this.rawInputEquation=e;let d=e.replace(/\s*/g,""),f=(null!==(t=d.match(/.*(?=\=)/))&&void 0!==t?t:[""])[0],i=(null!==(n=d.match(/(?<=\=).*/))&&void 0!==n?n:[""])[0];this.leftSideCoeffVarAndConstantTree={CoeffAndVar:null!==(a=f.match(/(\+|\-)?[\d]*[A-Za-z]/g))&&void 0!==a?a:[],Constants:null!==(r=f.match(/(\+|\-)?[\d]{1,}(?![A-Za-z0-9])/g))&&void 0!==r?r:[]},this.rightSideCoeffVarAndConstantTree={CoeffAndVar:null!==(o=i.match(/(\+|\-)?[\d]*[A-Za-z]/g))&&void 0!==o?o:[],Constants:null!==(s=i.match(/(\+|\-)?[\d]{1,}(?![A-Za-z0-9])/g))&&void 0!==s?s:[]}}buidlatexFromRawInput(){return this.rawInputEquation.replace(/([A-Za-z])/g,"\\text{$1}")}}const buildLatexVarFromLeftAndConstFromRight=e=>{let t="";return e.leftSideCoeffVarAndConstantTree.CoeffAndVar.map(e=>{t+=e.replace(/([A-Za-z])/,String.raw`\text{$1}`)}),t+="=",0!==e.rightSideCoeffVarAndConstantTree.Constants.length?e.rightSideCoeffVarAndConstantTree.Constants.map(e=>{t+=e}):t+="0",t},_equationVarAndConstSeparator=e=>(e.leftSideCoeffVarAndConstantTree.Constants.map(t=>{var n,a,r;let o={_sign:"",_value:(null!==(n=t.match(/[0-9]{1,}/))&&void 0!==n?n:[""])[0]};1===(null!==(a=t.match(/[-]/))&&void 0!==a?a:[]).length?o._sign="-":((null!==(r=t.match(/[+]/))&&void 0!==r?r:[]).length,o._sign="+"),e.rightSideCoeffVarAndConstantTree.Constants.push(`${"+"===o._sign?"-":"+"}${o._value}`)}),e.rightSideCoeffVarAndConstantTree.CoeffAndVar.map(t=>{var n,a,r,o;let s={sign:"",coeff:(null!==(n=t.match(/[0-9]{1,}/))&&void 0!==n?n:[""])[0],var:(null!==(a=t.match(/[A-Za-z]/))&&void 0!==a?a:[""])[0]};1===(null!==(r=t.match(/[-]/))&&void 0!==r?r:[]).length?s.sign="-":((null!==(o=t.match(/[+]/))&&void 0!==o?o:[]).length,s.sign="+"),e.leftSideCoeffVarAndConstantTree.CoeffAndVar.push(`${"+"===s.sign?"-":"+"}${s.coeff}${s.var}`)}),e.rightSideCoeffVarAndConstantTree.CoeffAndVar=[],e.leftSideCoeffVarAndConstantTree.Constants=[],e.rightSideCoeffVarAndConstantTree.Constants.length>1&&(e.rightSideCoeffVarAndConstantTree.Constants[0]=e.rightSideCoeffVarAndConstantTree.Constants[0].replace(/[+]/,"")),e.leftSideCoeffVarAndConstantTree.CoeffAndVar[0]=e.leftSideCoeffVarAndConstantTree.CoeffAndVar[0].replace(/[+]/,""),e),_likeVariableAndConstantAdder=e=>{if(1!==e.rightSideCoeffVarAndConstantTree.Constants.length){let t=0;e.rightSideCoeffVarAndConstantTree.Constants.map(e=>{t+=parseInt(e)}),e.rightSideCoeffVarAndConstantTree.Constants=[`${t}`]}return e.leftSideCoeffVarAndConstantTree.CoeffAndVar=(e=>{let t=[],n={vars:[],values:[]};e.map(t=>{var a;let r=(null!==(a=t.match(/[A-Za-z]/))&&void 0!==a?a:[""])[0];if(!n.vars.includes(r)){let t=[];e.map(e=>{var n,a;(null!==(n=e.match(/[A-Za-z]/))&&void 0!==n?n:[""])[0]===r&&(e.match(/[+-]?[0-9]{1,}/)?t.push((null!==(a=e.match(/[+-]?[0-9]{1,}/))&&void 0!==a?a:[""])[0]):2===e.length?t.push(`${e[0]}1`):t.push("1"))}),n.values.push(t),n.vars.push(r)}});for(let e=1;e<=n.vars.length;e++){let a=0;n.values[e-1].map(e=>{a+=parseInt(e)}),t.push(`${a<0?-1===a?"-":a:n.vars[0]===n.vars[e-1]?1===a?"":a:`+${1===a?"":a}`}${n.vars[e-1]}`)}return t})(e.leftSideCoeffVarAndConstantTree.CoeffAndVar),e.rightSideCoeffVarAndConstantTree.Constants.length>1&&(e.rightSideCoeffVarAndConstantTree.Constants[0]=e.rightSideCoeffVarAndConstantTree.Constants[0].replace(/[+]/,"")),e.leftSideCoeffVarAndConstantTree.CoeffAndVar[0]=e.leftSideCoeffVarAndConstantTree.CoeffAndVar[0].replace(/[+]/,""),e};
